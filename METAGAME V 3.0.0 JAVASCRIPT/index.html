<!doctype html>
<html lang="en">
<html>
    <html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">

        <!-- colocar icono en la web -->
        <!-- <link rel="shortcut icon" href="/favicon.ico" /> -->
        
        <!--Import Google Icon Font-->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <!--Import materialize.css-->
        <!-- <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/> -->
        <link rel="icon" href="img/logo.png" width="32" height="32" >
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script type="module">
          // Import the functions you need from the SDKs you need
          import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";
          import { getDatabase, ref , onValue, child } from 'https://www.gstatic.com/firebasejs/9.6.10/firebase-database.js'; 
          //import { getDatabase } from './node_modules/firebase/database'; 
          // TODO: Add SDKs for Firebase products that you want to use
          // https://firebase.google.com/docs/web/setup#available-libraries
        
          // Your web app's Firebase configuration
          const firebaseConfig = {
            apiKey: "AIzaSyC8C7FZP3oD1cAtjEt_GNi0SqyDRqtO1ps",
            authDomain: "metagame-9b42d.firebaseapp.com",
            databaseURL: "https://metagame-9b42d-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "metagame-9b42d",
            storageBucket: "metagame-9b42d.appspot.com",
            messagingSenderId: "77098664441",
            appId: "1:77098664441:web:fc5001254ba7f8eeffbd28"
          };
        
          // Initialize Firebase
          const app = initializeApp(firebaseConfig);
          const db = getDatabase();
          const productsReference = ref(db, 'products/');
          onValue(productsReference, (snapshot) => {
            console.log(snapshot.val());
            var line = {
              "text-decoration": "line-through"
            }
            $("#ark-price").text(snapshot.val().ARK.price + '€');
            $("#eldenring-price").text(snapshot.val()["Elden Ring"].price + '€');
            $("#gta-price").text(snapshot.val().GTAV.price + '€');
            $("#overcooked-price").text(snapshot.val().Overcooked.price + '€');
            $("#valheim-price").text(snapshot.val().Valheim.price + '€');
            $("#lostark-price").text(snapshot.val()["Lost Ark"].price);
            $("#dyinglight2-price").html('<strike>'+(snapshot.val()["Dying Light 2"].price)+'</strike>' + ' ' + ((snapshot.val()["Dying Light 2"].price)-(snapshot.val()["Dying Light 2"].price)*(snapshot.val()["Dying Light 2"].discount)).toFixed(2).toString() + '€');
            $("#citiesskylines-price").html('<strike>'+(snapshot.val()["Cities Skylines"].price)+'</strike>' + ' ' + ((snapshot.val()["Cities Skylines"].price)-(snapshot.val()["Cities Skylines"].price)*(snapshot.val()["Cities Skylines"].discount)).toFixed(2).toString() + '€');
            $("#stardew-price").html('<strike>'+(snapshot.val()["Stardew Valley"].price)+'</strike>' + ' ' + ((snapshot.val()["Stardew Valley"].price)-(snapshot.val()["Stardew Valley"].price)*(snapshot.val()["Stardew Valley"].discount)).toFixed(2).toString() + '€');
          });
          

        </script>
        
        
        <!-- <script>
          function getElementsCount() {
            var p_count = 0;
            var div_count = 0;
            var li_count = 0;
            p_count = document.getElementsByTagName('p').length;
            div_count = document.getElementsByTagName('div').length;
            li_count = document.getElementsByTagName('li').length;
            document.getElementById('element-count').innerText = ('Nº p: ' + p_count + ' Nº divs: '+ div_count + ' Nº li: '+ li_count);
          }
        </script> -->
        <!-- <script>
          function processSearch(searchBox) {
            document.getElementById('searchText').innerText = ('Ha buscado: ' + searchBox);
            document.getElementById('searchText').style.visibility = 'visible';
          }
        </script> -->
        <!-- <script>
          function processCart(jsonFile) {

            document.getElementById('cartText').innerText = ('Coste total: ' + searchBox);

            document.getElementById('cartText').style.visibility = 'visible';
          }
        </script> -->
        <!-- <script>
          function processCart(price) {
            document.getElementById('cartText').innerText = ('Coste total: ' + price);
            document.getElementById('cartText').style.visibility = 'visible';
          }
        </script> -->
        
        <!-- <script>
          function process() {
            fetch('dataBase.json')
              .then(function (response) {
                return response.json();
              })
              .then(function (data) {
                var result = calcularTotal(data);
                processCart(result)
              })
              .catch(function (err) {
              });
          } 
        </script> -->
        
        <!-- 
        <script type="module">
          import { hello } from './hello.mjs'; // Or the extension could be just `.js`
          hello('world');
        </script> -->

        <!--Let browser know website is optimized for mobile-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title>METAGAMES</title>
        <!-- Compiled and minified CSS -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

    </head>

    <body style="background-color:#0a2635;">
      <!-- #851014; ROJO--> 
      <!-- #181A1B; NEGRO -->

        <!-- La cabecera de la pagina web -->
        <div class="navbar-fixed">
          <nav style="background-color:#264F89;">
            <div class="nav-wrapper">
            <div class="row">
              <a href="#!" style="text-shadow: 2px 2px;" class="col s1"><img src="./img/logo.png" alt="metagame" width="auto" height="64"></a>
              <ul id="nav-mobile" class="col s3 hide-on-med-and-down">
                <li><a href="#">Categorías</a></li>
                <!-- <li><a class='dropdown-button btn' href="#" data-activates='dropdown1'>Categorías</a></li> -->
                  <!-- Dropdown Structure -->
                  <!-- <ul id='dropdown1' class='dropdown-content'>
                    <li><a href="#!">one</a></li>
                    <li><a href="#!">two</a></li>
                    <li class="divider"></li>
                    <li><a href="#!">thr</a></li>
                  </ul>
                -->
                <li><a href="#">Búsqueda</a></li>
                <li><a href="#">Noticias</a></li>
                <li><a href="#">Lo más vendido</a></li>
              </ul>

              <ul class="col s4 hide-on-med-and-down">
                <li><a onclick = "processSearch(document.getElementById('searchBox').value)"><i class="material-icons left">search</i></a></li>
                <li><input id="searchBox" style="color: white;" placeholder="Introduzca el termino de busqueda" size=45 type="text"></li>
              </ul>
              <ul class="col s1 hide-on-med-and-down">
                <!-- <li id ='element-count'></li> -->
                <li><a class="waves-effect waves-light btn flow-text" onclick="alert(getElementsCountString())"><i class="material-icons">settings</i></a></li>
              </ul>
              <ul class="col s2 hide-on-med-and-down">
                <li><a class="waves-effect waves-light btn flow-text" href="#"><i class="material-icons left">account_box</i>Cuenta personal</a></li>
              </ul>
              <ul class="col s1 hide-on-med-and-down">
                <li><a class="waves-effect waves-light btn flow-text" onclick="processJson('./jsonScripts/dataBase.json')"><i class="material-icons">shopping_cart</i></a></li>
              </ul>
              <!-- <div class="col s1">
                <div style="background-color: #264F89">
                  <div class="card-content white-text">
                      <table class="center" id="demo" style="display:none">
                        <thead>
                          <tr>
                              <th data-field="id">Product</th>
                              <th data-field="price">Price</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td>1</td>
                            <td>123</td>
                          </tr>
                          <tr>
                            <td>2</td>
                            <td>123</td>
                          </tr>
                          <tr>
                            <td>3</td>
                            <td>123</td>
                          </tr>
                        </tbody>
                      </table>
                  </div>
                </div>
              </div> -->
            </div>
          </div>
          </nav>
        </div>
        
          <div class="aboutMeCarousel carousel carousel-slider center">
            <!-- <div class="carousel-fixed-item center">
                <a class="btn waves-effect white grey-text darken-text-2">button</a>
            </div> -->
            <div class="carousel-item" href="#one!">
              
              <!-- hay que solucionar la parte arriba (zona roja)!!! -->
              <img class="responsive-img" src="./img/haveANiceDeath.jpg" alt="eldenring">
                <h2>First Panel</h2>
                <!-- <p class="red-text">This is your first panel</p> -->
            </div>
            <div class="carousel-item" href="#two!">
              <img class="responsive-img" src="./img/midnight.jpg" alt="midnight">
                <h2>Second Panel</h2>
            </div>
            <div class="carousel-item green white-text" href="#three!">
              <img class="responsive-img" src="./img/death.jpg" alt="death">
                <h2>Third Panel</h2>
            </div>
            <div class="carousel-item" href="#four!">
              <img class="responsive-img" src="./img/overCooked.jpg" alt="overcoked">
                <h2>Fourth Panel</h2>
            </div>
        </div>

        <!-- carousel -->
        <script>
          document.addEventListener('DOMContentLoaded', function() {
            var elems = document.querySelectorAll('.carousel.carousel-slider');
            var instance = M.Carousel.init(elems, {
                fullWidth: true,
                indicators: true
            });
          });
        
          //function moveNext() {
              //var elems = document.querySelectorAll('.carousel.carousel-slider');
              //var moveRight = M.Carousel.getInstance(elems);
              //moveRight.next(1);
          //}

        </script> 
            <div class="s">
              <!-- La primera fila ELDENRING AKR GTV -->
              <div class="navbar">
                <nav style="background-color:#171D2D;">
                    <div class="row">
                      <div class="col s2">
                        <a href="#!" style="text-transform: uppercase; font-family:Times New Roman; font-size:25px;">Juegos destacados</a>
                      </div>
                      <div class="col s2 offset-s3">
                        <a id='searchText' style='visibility:hidden;'>placeholder </a>
                      </div>
                      <ul class="col s3 offset-s2 hide-on-med-and-down">
                      <!-- <ul class="col s6 offset-s6 hide-on-med-and-down"> -->
                        <li><a class="waves-effect waves-light btn">PC</a></li>
                        <li><a class="waves-effect waves-light btn">CONSOLA</a></li>
                        <li></li><a class="waves-effect waves-light btn">OTRO</a></li>
                      </ul>
                    </div>
                  </div>
                </nav>
              </div>

                <div class="row">
                  <!-- <div class="divider"></div> -->
                  <br>
                    <div>

                      <div class = "col s4 card-panel hoverable" style="background-color: #0A2635;">
                        <a href="#"><img class="responsive-img" style="margin-top:10px;" src="./img/eldenring.jpg" alt="eldenring" width=100% height="292,5"></a>
                        <p class="light-blue-text text-darken-2 flow-text center">
                          Elden Ring
                        </p>
                        <p id = "eldenring-price" class="light-blue-text text-darken-2 flow-text center">
                          placeholder
                        </p>
                      </div>

                      <div class = "col s4 card-panel hoverable" style="background-color: #0A2635;">
                        <a href="#"><img class="responsive-img" style="margin-top:10px;" src="./img/ARK.jfif" alt="ark" width=100% height="292,5"></a>
                        <p class="light-blue-text text-darken-2 flow-text center">
                          Ark
                        </p>
                        <p id = "ark-price" class="light-blue-text text-darken-2 flow-text center">
                          placeholder
                        </p>
                      </div>

                      <div class = "col s4 card-panel hoverable" style="background-color: #0A2635;">
                        <a href="#"><img class="responsive-img" style="margin-top:10px;" src="./img/gtaV.jpg" alt="gtaV" width=100% height="292,5"></a>
                        <p class="light-blue-text text-darken-2 flow-text center">
                          GTA V 
                        </p>
                        <p id = "gta-price" class="light-blue-text text-darken-2 flow-text center">
                          placeholder
                        </p>
                      </div>
                      
                    </div>
                </div>
            </div>
            <div class="navbar">
              <!-- <a href="#!"><img src="./img/logo.png" alt="metagame" width="auto" height="70"></a></h1> -->
              <nav style="background-color:#171D2D;">
                <div class="nav-wrapper">
                  <div class="row">
                    <div class="col s2">
                      <a href="#!" style="text-transform: uppercase; font-family:Times New Roman; font-size:25px;">Novedades</a>
                    </div>
                  </div>
                </div>
              </nav>
            </div>

              <div class="row">
                <!-- <div class="divider"></div><br> -->
                <br>
                  <div style="margin: 0% 10px;">
                    <div class = "col s4 card-panel hoverable" style="background-color: #0A2635;">
                      <a href="#"><img class="responsive-img" style="margin-top:10px;" src="./img/valheim.jpg" alt="Valheim" width=100% height="292,5"></a>
                      <p class="light-blue-text text-darken-2 flow-text center">
                        Valheim 
                      </p>
                      <p id = "valheim-price" class="light-blue-text text-darken-2 flow-text center">
                        placeholder
                      </p>
                    </div>

                    <div class = "col s4 card-panel hoverable" style="background-color: #0A2635;">
                      <a href="#"><img class="responsive-img" style="margin-top:10px;" src="./img/overCooked.jpg" alt="overcooked" width=100% height="292,5"></a>
                      <p class="light-blue-text text-darken-2 flow-text center">
                        Overcooked 
                      </p>
                      <p id = "overcooked-price" class="light-blue-text text-darken-2 flow-text center">
                        placeholder
                      </p>
                    </div>

                    <div class = "col s4 card-panel hoverable" style="background-color: #0A2635;">
                      <a href="#"><img class="responsive-img" style="margin-top:10px;" src="./img/lostARK.jpeg" alt="lostARK" width=100% height="292,5"></a>
                      <p class="light-blue-text text-darken-2 flow-text center">
                        Lost ARK Gratis
                      </p>
                      <p id = "lostark-price" class="light-blue-text text-darken-2 flow-text center">
                        placeholder
                      </p>
                    </div>
                  </div>
              </div>
              

              <div class="navbar">
                <!-- <a href="#!"><img src="./img/logo.png" alt="metagame" width="auto" height="70"></a></h1> -->
                <nav style="background-color:#171D2D;">
                  <div class="nav-wrapper">
                    <div class="row">
                      <div class="col s2">
                        <a href="#!" style="text-transform: uppercase; font-family:Times New Roman; font-size:25px;">Ofertas</a>
                      </div>
                    </div>
                  </div>
                </nav>
              </div>
              
                <div class="row">
                  <!-- <div class="divider"></div><br> -->
                  <br>
                    <div style="margin: 0% 10px;">
                      <div class = "col s4 card-panel hoverable" style="background-color: #0A2635;">
                        <a href="#"><img class="responsive-img" style="margin-top:10px;" src="./img/hero.jpg" alt="StardewValley" width=100% height="292,5"></a>
                        <p class="light-blue-text text-darken-2 flow-text center">
                          Stardew Valley 
                        </p>
                        <p id = "stardew-price" class="light-blue-text text-darken-2 flow-text center">
                          <strike>placeholder</strike>
                        </p>
                        <!-- <p id = "stardewdis-price" class="light-blue-text text-darken-2 flow-text center" >
                          <strike>placeholder</strike>
                        </p> -->
                      </div>
  
                      <div class = "col s4 card-panel hoverable" style="background-color: #0A2635;">
                        <a href="#"><img class="responsive-img" style="margin-top:10px;" src="./img/dyingLight2.jfif" alt="DyingLight2" width=100% height="292,5"></a>
                        <p class="light-blue-text text-darken-2 flow-text center">
                          Dying Light 2 
                        </p>
                        <p id = "dyinglight2-price" class="light-blue-text text-darken-2 flow-text center">
                          <strike>placeholder</strike>
                        </p>
                      </div>
  
                      <div class = "col s4 card-panel hoverable" style="background-color: #0A2635;">
                        <a href="#"><img class="responsive-img" style="margin-top:10px;" src="./img/cities skylines.jpg" alt="Cities: Skylines" width=100% height="292,5"></a>
                        <p class="light-blue-text text-darken-2 flow-text center">
                          Cities: Skylines
                        <p id = "citiesskylines-price" class="light-blue-text text-darken-2 flow-text center">
                          <strike>placeholder</strike>
                      </div> 
                    </div>
                </div>
<!-- 
                <div class="fixed-action-btn horizontal click-to-toggle">
                  <a class="btn-floating btn-large red">
                    <i class="material-icons">menu</i>
                  </a>
                  <ul>
                    <li><a class="btn-floating blue"><i class="material-icons">attach_file</i></a></li>
                  </ul>
                </div> -->

                  <!-- <div class="row" style="position: fixed; left:0; bottom:30%;"> -->

              <!-- <div class="carousel">
                <a class="carousel-item" href="#one!"><img src="https://cloudfront-us-east-1.images.arcpublishing.com/infobae/J5NMFGGUFFGPZPA3HRFAXTJUQA.jpg"></a>
                <a class="carousel-item" href="#two!"><img src="https://cloudfront-us-east-1.images.arcpublishing.com/infobae/J5NMFGGUFFGPZPA3HRFAXTJUQA.jpg"></a>
                <a class="carousel-item" href="#three!"><img src="https://cloudfront-us-east-1.images.arcpublishing.com/infobae/J5NMFGGUFFGPZPA3HRFAXTJUQA.jpg"></a>
                <a class="carousel-item" href="#four!"><img src="https://cloudfront-us-east-1.images.arcpublishing.com/infobae/J5NMFGGUFFGPZPA3HRFAXTJUQA.jpg"></a>
                <a class="carousel-item" href="#five!"><img src="https://cloudfront-us-east-1.images.arcpublishing.com/infobae/J5NMFGGUFFGPZPA3HRFAXTJUQA.jpg"></a>
              </div>

              <script>
                document.addEventListener('DOMContentLoaded', function() {
                var elems = document.querySelectorAll('.carousel');
                var instances = M.Carousel.init(elems, options);
              });
              </script>  -->

            <!-- <br><br><p style="color: white;" align="center"> ABOUT | SUPPORT | CONTACT US | PRESS | API <p> -->
              <footer class="page-footer" style="background-color:#141E2B;">
                <div class="container">
                  <div class="row">
                    <div class="col l6 s12">
                      <br>
                      <div class="col l12 s12">
                        <span>
                          <a href="#" class="waves-effect waves-light btn card-panel black lighten-2">PRIVACIDAD</a>
                          <a href="#" class="waves-effect waves-light btn card-panel black lighten-2">TÉRMINOS DE USO</a>
                          <a href="#" class="waves-effect waves-light btn card-panel black lighten-2">cookies</a>
                          <a href="#" class="waves-effect waves-light btn card-panel black lighten-2">EMPLEO</a>
                        </span>

                      </div>
                      <svg class="col s1">
                        <a href="https://www.linkedin.com">
                          
                          <path fill="white" d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z">
                          </path>
                        </a>
                      </svg>
                    
                      <svg class="col l1">
                          <a href="https://twitter.com">
                          <path fill="white" d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z">
                          </path>
                        </svg>
                      </a>

                      <svg class="col l1">
                        <a href="https://instagram.com">
                          <path fill="white" d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z">
                          </path>
                        </a>
                      </svg>
                    </div>

                    <div class="col l4 offset-l1 s12">
                      <ul>
                        <li><i class="material-icons">email</i><span> support@metagame.com</span></li>
                        <li><i class="material-icons">place</i><span> Av. Capitán Ramón Freire, Rancagua, O'Higgins, Chile</span></li>
                        <li><i class="material-icons">contacts</i><span> +34 123456789</span></li>
                      </ul>
                    </div>  
                  </div>
                  
                  <div class="footer-copyright ">
                    <div class="container">
                      <a class="grey-text text-lighten-4 right" href="#!"></a>
                      <p class="center">© 2022 XMOJ Corporation. All rights reserved. <br>
                        All product names, logos, brands, trademarks and registered trademarks are property of their respective owners. 
                        All company, product and service names used in this website are for identification purposes only. 
                      </p>
                    </div>
                </div>
                <!-- <div> -->
              </footer>
        
            <!--JavaScript at end of body for optimized loading-->
            <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
            <script src="./jsonScripts/calculateTotal.js"></script>
            <script src="./jsonScripts/processCart.js"></script>
            <script src="./jsonScripts/processSearch.js"></script>
            <script src="./jsonScripts/ElementsCount.js"></script>
            <script src="./jsonScripts/processJson.js"></script>
            <script src="./jsonScripts/firebase/main.js"></script>


            <!-- <script type="text/javascript">
              document.addEventListener('DOMContentLoaded', function() {
                  var elems = document.querySelectorAll('.sidenav');
                  var instances = M.Sidenav.init(elems, options);
                });          
            </script> -->
            <!-- para ocultar -->
            <script>
              function myFunction() {
                var x = document.getElementById("demo");
                if (x.style.display === "none") {
                  x.style.display = "block";
                } else {
                  x.style.display = "none";
                }
              }
            </script>
            <script>
            </script>
    </body>
</html>